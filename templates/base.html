<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}VeriQuantum{% endblock %}</title>

  <style>
    :root{
      --brand:#0b5ed7; --brand-dark:#084298; --bg:#f7f8fb; --text:#1e293b;
      --muted:#64748b; --card:#ffffff; --ring:#e2e8f0;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:var(--text);background:var(--bg)}
    header{background:linear-gradient(90deg,var(--brand),#2563eb);color:#fff}
    .nav{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:18px;padding:14px 18px}
    .brand{font-weight:800;letter-spacing:.3px}
    .nav a{color:#fff;text-decoration:none;opacity:.95}
    .nav a:hover{opacity:1;text-decoration:underline}
    .spacer{flex:1}
    .badge{background:rgba(255,255,255,.14);padding:4px 8px;border-radius:999px;font-size:.78rem}
    .wrap{max-width:1100px;margin:22px auto;padding:0 18px}
    .card{background:var(--card);border:1px solid var(--ring);border-radius:12px;padding:18px}
    .btn{display:inline-block;background:var(--brand);color:#fff;border:none;border-radius:8px;padding:10px 14px;text-decoration:none;cursor:pointer}
    .btn:focus{outline:3px solid #93c5fd;outline-offset:2px}
    .subnav{background:var(--brand-dark);color:#cbd5e1}
    .subnav .nav a{color:#e2e8f0}
    .alert{padding:12px;border-radius:8px;margin:12px 0}
    .alert-success{background:#d1fae5;color:#065f46}
    .alert-danger{background:#fee2e2;color:#7f1d1d}
    footer{color:var(--muted);font-size:.9rem;padding:24px 18px;border-top:1px solid var(--ring);margin-top:28px}
    .container{max-width:1100px;margin:0 auto}
  </style>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <header>
    <div class="nav">
      <a class="brand" href="{{ url_for('index') }}">VeriQuantum</a>
      <a href="{{ url_for('index') }}">Home</a>
      <a href="{{ url_for('admin_legal_list') }}">Legal</a>

      {% if session.get('user') %}
        <a href="{{ url_for('dashboard') }}">Dashboard</a>
        {% if session.get('is_admin') %}
          <a href="{{ url_for('admin_settings_get') }}">Admin</a>
          <a href="{{ url_for('admin_finance') }}"><span class="badge">Finance</span></a>
        {% endif %}
        <div class="spacer"></div>
        <span class="badge">Signed in: {{ session.get('user') }}</span>
        <a href="{{ url_for('logout') }}">Logout</a>
      {% else %}
        <div class="spacer"></div>
        <a href="{{ url_for('login_get') }}">Login</a>
        <a class="btn" href="{{ url_for('register_get') }}">Register</a>
      {% endif %}
    </div>
  </header>

  <div class="wrap">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="alert {{ 'alert-success' if cat=='success' else 'alert-danger' }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>

  <footer>
    <div class="container">
      © {{ 2025 }} VeriQuantum — Secure Biometric Access for Governments, Banks, Healthcare & Enterprise.
    </div>
  </footer>

  <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>